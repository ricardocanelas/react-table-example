(this["webpackJsonpreact-table-example"]=this["webpackJsonpreact-table-example"]||[]).push([[0],{108:function(e,a,t){e.exports=t(202)},119:function(e,a){},121:function(e,a){},154:function(e,a){},155:function(e,a){},201:function(e,a,t){},202:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(102),l=t.n(c),o=t(15),i=t(17);var s=function(e){var a=e.onSubmit;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("form",{className:"d-flex",onSubmit:function(e){e.preventDefault();var t=new FormData(e.target);a({q:t.get("q")})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"search",name:"q"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm ml-2"},"submit"))))},u=function(e){e.stateReducers.push(g),e.useInstance.push(m)};function m(e){var a=e.state.pageRange,t=e.state.pageIndex+1,n=e.pageCount,r=[],c=t-a,l=t+a;l>n&&(l=n,c=(c=n-2*a)<1?1:c),c<=1&&(c=1,l=Math.min(2*a+1,n));var o=0;if(c<=3)for(o=1;o<c;o++)r.push(o);else r.push(1),r.push("...");for(o=c;o<=l;o++)r.push(o);if(l>=n-2)for(o=l+1;o<=n;o++)r.push(o);else r.push("..."),r.push(n);Object.assign(e,{pageRanges:r})}function g(e){return Object(o.a)({pageRange:e.pageRange||2},e)}u.pluginName="usePaginationRange";var p=u,d=t(42),f=function(e){var a=e.className,t=e.columns,c=e.data,l=e.filter,o=e.onFetchData,i=e.initialState,s=e.pageCount,u=e.loading,m=e.options,g=Object(d.useTable)({columns:t,data:u?[]:c,manualSortBy:!0,manualPagination:!0,pageCount:s,initialState:i},d.useSortBy,d.usePagination,p),f=g.getTableProps,b=g.getTableBodyProps,h=g.headerGroups,v=g.prepareRow,E=g.state,N=E.sortBy,P=E.pageIndex,y=E.pageSize,O=g.page,j=g.canPreviousPage,C=g.canNextPage,x=g.pageOptions,S=g.pageCount,w=g.gotoPage,k=g.nextPage,R=g.previousPage,L=g.setPageSize,I=g.pageRanges,M=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=!1;M.current&&(e=Object.keys(M.current.filter).some((function(e){return M.current.filter[e]!==l[e]})));var a={sortBy:N,pageIndex:P,pageSize:y,filter:l,hasFilterChanged:e};if(e&&0!==P)return M.current=a,w(0);o&&o(a,M.current),M.current=a}),[w,o,N,P,y,l]),r.a.createElement(r.a.Fragment,null,r.a.createElement("table",Object.assign({},f(),{className:"table ".concat(a)}),r.a.createElement("thead",null,h.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{className:"col-".concat(e.id)}),e.render("Header"),r.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""))})))}))),r.a.createElement("tbody",b(),!u&&O.map((function(e,a){return v(e),r.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return r.a.createElement("td",Object.assign({},e.getCellProps(),{className:"col-".concat(e.column.id)}),e.render("Cell"))})))})))),!u&&c&&0===c.length&&e.renderEmpty(),u&&e.renderLoading(),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("nav",{"aria-label":"Page navigation example"},r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item ".concat(j?"":"disabled")},r.a.createElement("button",{className:"page-link",onClick:function(){return w(0)}},"First Page")),r.a.createElement("li",{className:"page-item ".concat(j?"":"disabled")},r.a.createElement("button",{className:"page-link",onClick:function(){return R()}},"Preview")),I.map((function(e,a){var t="..."===e?I[a-1]:e-1;return r.a.createElement("li",{key:a,className:"page-item ".concat(P===e-1?"disabled":"")},r.a.createElement("button",{className:"page-link",onClick:function(){return w(t)}},e))})),r.a.createElement("li",{className:"page-item ".concat(C?"":"disabled")},r.a.createElement("button",{className:"page-link",onClick:function(){return k()}},"Next")),r.a.createElement("li",{className:"page-item ".concat(C?"":"disabled")},r.a.createElement("button",{className:"page-link",onClick:function(){return w(S-1)}},"Last Page")),r.a.createElement("li",{className:"page-item p-2 pl-3"},"Page"," ",r.a.createElement("strong",null,P+1," of ",x.length)," "))),m.itemsPerPage&&Array.isArray(m.itemsPerPage)&&r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{value:y,className:"form-control",onChange:function(e){L(Number(e.target.value))}},m.itemsPerPage.map((function(e){return r.a.createElement("option",{key:e,value:e},"Show ",e)})))))))};f.defaultProps={className:"",columns:[],data:[],onFetchData:null,total:0,initialState:{pageIndex:0,pageSize:5,pageRange:2},options:{itemsPerPage:[10,30,50]},filter:{},renderLoading:function(){return r.a.createElement("div",null,"loading...")},renderEmpty:function(){return r.a.createElement("div",null,"empty")}};var b=f,h=[{Header:"Firstname",accessor:"firstName"},{Header:"Lastname",accessor:"lastName"},{Header:"Age",accessor:"age"}];var v=function(){var e=Object(n.useRef)(0),a=Object(n.useState)({data:[],loading:!0,pageCount:0,filter:{q:""}}),t=Object(i.a)(a,2),c=t[0],l=t[1],u=Object(n.useCallback)((function(a){var t=++e.current;l((function(e){return Object(o.a)({},e,{loading:!0})})),fetch("http://example.com/users",{params:a}).then((function(e){return e.json()})).then((function(a){t===e.current&&l((function(e){return Object(o.a)({},e,{loading:!1,data:a.data,pageCount:a.pageCount})}))}))}),[]);return r.a.createElement("div",{className:"container"},r.a.createElement(s,{onSubmit:function(e){l((function(a){return Object(o.a)({},a,{filter:{q:e.q.trim()}})}))}}),r.a.createElement(b,{className:"mt-3",columns:h,data:c.data,filter:c.filter,onFetchData:u,pageCount:c.pageCount,pageIndex:c.pageIndex,loading:c.loading,options:{itemsPerPage:[5,10,20,30,40]},renderLoading:function(){return r.a.createElement("div",{style:{minHeight:205}},"Loading...")},renderEmpty:function(){return r.a.createElement("div",{style:{minHeight:205}},"Not Found...")}}))},E=t(103),N=t(62),P=t.n(N),y=function(e){for(var a=[],t=0;t<e;t++)a.push(t);return a},O=function(){var e=Math.random();return{firstName:P.a.generate({words:1,saltLength:0}),lastName:P.a.generate({words:1,saltLength:0}),age:Math.floor(30*Math.random()),visits:Math.floor(100*Math.random()),progress:Math.floor(100*Math.random()),status:e>.66?"relationship":e>.33?"complicated":"single"}};var j=t(204),C=t(205),x=t(207),S=t(206),w=function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];var n=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=a[t];return y(n).map((function(n){return Object(o.a)({},O(),{subRows:a[t+1]?e(t+1):void 0})}))};return n()}(72);E.a.get("*",(function(e,a){var t=a?a.params:{},n=t.filter&&t.filter.q?t.filter.q:"",r=w;(console.log("[fetching]",t),n&&""!==n.trim()&&(r=r.filter((function(e){var a=-1!==e.firstName.toLowerCase().indexOf(n.toLowerCase()),t=-1!==e.lastName.toLowerCase().indexOf(n.toLowerCase()),r=e.age===Number(n);return a||t||r}))),t.sortBy)&&(r=Object(j.a)(t.sortBy.map((function(e){return e.desc?Object(C.a)(Object(x.a)(e.id)):Object(S.a)(Object(x.a)(e.id))})))(r));var c=r.length;if(t.pageIndex>=0&&t.pageSize){var l=t.pageIndex*t.pageSize;r=r.slice(l,l+t.pageSize)}return{data:r,total:c,pageCount:Math.ceil(c/t.pageSize)}}),{delay:1e3});t(201);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root"))}},[[108,1,2]]]);
//# sourceMappingURL=main.8c88dc9e.chunk.js.map